(this.webpackJsonpproj=this.webpackJsonpproj||[]).push([[0],{89:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),r=n.n(c),i=n(10),o=n.n(i),s=(n(89),n(55)),l=n(11);var u=function(e){var t=e.children;return Object(a.jsx)(a.Fragment,{children:t})},d=n(39),j=n(127),h=n(140),b=n(139),p=n(141),x=n(148),m=n(143),f=n(149),O=n(145),g=n(146),v=n(59),y=n(153),w=n(144),C=n(147),k=n(142),P=n(17),M=n(42),I=n(14),N=n(135),E=n(136),S=n(99),B=n(137),L=n(138),z=n(151),H=n(152),R=n(129),W=n(131),D=n(132),F=n(133),T=n(134),G=240,J=Object(j.a)((function(e){return{root:{display:"flex"},drawer:Object(M.a)({},e.breakpoints.up("sm"),{width:G,flexShrink:0}),appBar:Object(M.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(G,"px)"),marginLeft:G}),menuButton:Object(M.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:Object(P.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),drawerPaper:{width:G},content:{flexGrow:1,padding:e.spacing(3)},active:{backgroundColor:e.palette.action.selected}}})),U=[{name:"\u0406\u043d\u0444\u043e",items:[{name:"\u0412\u0441\u0442\u0443\u043f",path:"/introduction",icon:Object(a.jsx)(R.a,{})},{name:"\u0424\u0440\u0430\u043a\u0442\u0430\u043b\u0438",path:"/fractals/help",icon:Object(a.jsx)(W.a,{})},{name:"\u041a\u043e\u043b\u0456\u0440\u043d\u0456 \u043c\u043e\u0434\u0435\u043b\u0456",path:"/color-model/help",icon:Object(a.jsx)(W.a,{})},{name:"\u0420\u0443\u0445",path:"/movement/help",icon:Object(a.jsx)(W.a,{})}]},{name:"Playgrounds",items:[{name:"\u0424\u0440\u0430\u043a\u0442\u0430\u043b\u0438",path:"/fractals",icon:Object(a.jsx)(D.a,{})},{name:"\u041a\u043e\u043b\u0456\u0440\u043d\u0456 \u043c\u043e\u0434\u0435\u043b\u0456",path:"/color-model",icon:Object(a.jsx)(F.a,{})},{name:"\u0420\u0443\u0445",path:"/movement",icon:Object(a.jsx)(T.a,{})}]}];function q(e){var t=e.window,n=J(),r=Object(I.a)(),i=Object(c.useState)(!1),o=Object(d.a)(i,2),l=o[0],u=o[1],j=Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:n.toolbar}),Object(a.jsx)(N.a,{}),U.map((function(e,t){var c=e.name,r=e.items;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E.a,{children:r.map((function(e){var t=e.name,c=e.icon,r=e.path;return Object(a.jsxs)(S.a,{button:!0,component:s.b,to:r,activeClassName:n.active,children:[Object(a.jsx)(B.a,{children:c}),Object(a.jsx)(L.a,{primary:t})]},t)}))},c),t+1!==U.length?Object(a.jsx)(N.a,{}):null]})}))]}),h=void 0!==t?function(){return t().document.body}:void 0;return Object(a.jsx)("div",{className:n.root,children:Object(a.jsxs)("nav",{className:n.drawer,"aria-label":"mailbox folders",children:[Object(a.jsx)(z.a,{smUp:!0,implementation:"css",children:Object(a.jsx)(H.a,{container:h,variant:"temporary",anchor:"rtl"===r.direction?"right":"left",open:l,onClose:function(){u(!l)},classes:{paper:n.drawerPaper},ModalProps:{keepMounted:!0},children:j})}),Object(a.jsx)(z.a,{xsDown:!0,implementation:"css",children:Object(a.jsx)(H.a,{classes:{paper:n.drawerPaper},variant:"permanent",open:!0,children:j})})]})})}var A=Object(c.memo)(q),K=Object(j.a)((function(e){return{root:{display:"flex"},toolbar:Object(P.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));var Q=function(e){var t=e.children,n=K();return Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)(A,{}),Object(a.jsx)("main",{className:n.content,children:t})]})},V=n(50),X=n.n(V),Y=n(64),Z=n(72),$=new(n.n(Z).a),_={on:function(e,t){return $.on(e,t)},once:function(e,t){return $.once(e,t)},off:function(e,t){return $.off(e,t)},emit:function(e,t){return $.emit(e,t)}};Object.freeze(_);var ee=_,te="canvas-fractals",ne="open-canvas-image";var ae=function(e){var t=Object(c.useState)({x:0,y:0,radius:1}),n=Object(d.a)(t,2),r=n[0],i=n[1],o=Object(c.useRef)(null),s=Object(c.useRef)(null),l=e.draw,u=e.name,j=Object(c.useCallback)(Object(Y.a)(X.a.mark((function e(){var t,n,a,c,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.current,(n=t.getContext("2d")).save(),n.setTransform(1,0,0,1,0,0),a=n.getImageData(0,0,t.width,t.height),c=n.globalCompositeOperation,n.globalCompositeOperation="destination-over",n.fillStyle="white",n.fillRect(0,0,t.width,t.height),r=document.createElement("a"),i=t.toDataURL("image/png").replace("image/png","image/octet-stream"),r.download="".concat(u,".png"),r.href=i,r.click(),n.clearRect(0,0,t.width,t.height),n.putImageData(a,0,0),n.globalCompositeOperation=c,n.restore();case 18:case"end":return e.stop()}}),e)}))),[]);Object(c.useEffect)((function(){var e="".concat(u,":").concat(ne);return ee.on(e,j),function(){return ee.off(e,j)}}));var h=Object(c.useCallback)(Object(Y.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.current,(n=t.getContext("2d")).save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),n.restore(),n.fillStyle="white",e.next=9,l({context:n,position:r});case 9:case"end":return e.stop()}}),e)}))),[l]);Object(c.useEffect)(h,[l,h]);var b=function(){var e=s.current,t=(window.devicePixelRatio||1)/r.radius;e.width=o.current.clientWidth*t*r.radius,e.height=o.current.clientHeight*t*r.radius,e.style.width="".concat(o.current.clientWidth,"px"),e.style.height="".concat(o.current.clientHeight,"px");var n=e.getContext("2d");n.scale(t,t),n.lineWidth=1*r.radius;var a=Math.floor((o.current.clientWidth+r.x)/2),c=Math.floor((o.current.clientHeight+r.y)/2);n.translate(a,c),h()},p=function(e){38===e.keyCode||87===e.keyCode?i((function(e){return Object(P.a)(Object(P.a)({},e),{},{y:r.y-10*r.radius*2})})):40===e.keyCode||83===e.keyCode?i((function(e){return Object(P.a)(Object(P.a)({},e),{},{y:r.y+10*r.radius*2})})):37===e.keyCode||65===e.keyCode?i((function(e){return Object(P.a)(Object(P.a)({},e),{},{x:r.x-10*r.radius*2})})):39===e.keyCode||68===e.keyCode?i((function(e){return Object(P.a)(Object(P.a)({},e),{},{x:r.x+10*r.radius*2})})):189===e.keyCode||173===e.keyCode||109===e.keyCode?i((function(e){return Object(P.a)(Object(P.a)({},e),{},{radius:r.radius/.7})})):187!==e.keyCode&&61!==e.keyCode&&107!==e.keyCode||i((function(e){return Object(P.a)(Object(P.a)({},e),{},{radius:.7*r.radius})}))};return Object(c.useEffect)((function(){var e=s.current;return window.addEventListener("resize",b),e.addEventListener("keydown",p),function(){window.removeEventListener("resize",b),e.removeEventListener("keydown",p)}})),Object(c.useEffect)((function(){b()}),[r]),Object(a.jsx)("div",{ref:o,style:{height:"100%",maxHeight:"100%",maxWidth:"100%",width:"100%"},children:Object(a.jsx)("canvas",{tabIndex:"0",ref:s,style:{height:"100%",width:"100%"}})})};function ce(e){var t=e.x,n=e.y;this.x=t,this.y=n}function re(e,t){for(var n=0;n<t.length;n+=1){var a=t[n],c=a.p1,r=a.p0;e.moveTo(c.x,-c.y),e.lineTo(r.x,-r.y)}e.stroke()}var ie=Math.PI/2,oe=Math.PI/4,se=Math.PI/6,le=[];function ue(e,t,n,a,c,r){if(a>0){var i=a-1,o=.7*c,s=Math.round(t+c*Math.cos(r)),l=Math.round(n+c*Math.sin(r));le.push({p1:new ce({x:t,y:n}),p0:new ce({x:s,y:l})}),ue(e,s,l,i,o,r+oe),ue(e,s,l,i,o,r-se)}}var de=function(e,t){var n=t.iterations;le=[],e.beginPath(),ue(e,0,-200,n,200,ie),re(e,le),e.closePath()},je=[];function he(e,t,n,a){var c=n.x-t.x,r=n.y-t.y,i=Math.sqrt(c*c+r*r)/3,o=Math.atan2(r,c),s=new ce({x:t.x+c/3,y:t.y+r/3}),l=new ce({x:s.x+Math.cos(o-Math.PI/3)*i,y:s.y+Math.sin(o-Math.PI/3)*i}),u=new ce({x:n.x-c/3,y:n.y-r/3});a>1?(he(e,t,s,a-1),he(e,s,l,a-1),he(e,l,u,a-1),he(e,u,n,a-1)):je.push({p0:t,p1:n})}var be=function(e,t){var n=t.iterations;je=[],e.beginPath(),he(e,new ce({x:-180,y:200}),new ce({x:0,y:-180}),n),he(e,new ce({x:0,y:-180}),new ce({x:200,y:200}),n),he(e,new ce({x:200,y:200}),new ce({x:-180,y:200}),n),re(e,je),e.closePath()},pe=Object(j.a)((function(e){return{root:{display:"flex",flexDirection:"column"},sticky:{position:"sticky",top:e.spacing(20),zIndex:e.zIndex.appBar},paper:{padding:e.spacing(3),marginBottom:e.spacing(3)},formControl:{marginBottom:e.spacing(3),width:"100%"},formLabel:{cursor:"pointer"},input:{width:42}}})),xe="tree",me="snowflake";var fe=function(){var e=pe(),t=Object(c.useState)(1),n=Object(d.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(null),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(c.useCallback)((function(e){var t=e.context;return l===xe?de(t,{iterations:r}):l===me?be(t,{iterations:r}):function(){}}),[r,l]);return Object(a.jsxs)(Q,{children:[Object(a.jsxs)(h.a,{container:!0,component:b.a,className:e.paper,elevation:3,justify:"space-between",alignItems:"center",children:[Object(a.jsx)(p.a,{color:"primary",variant:"contained",children:"\u0424\u0440\u0430\u043a\u0442\u0430\u043b\u0438"}),Object(a.jsx)(k.a,{fontSize:"large"})]}),Object(a.jsxs)(h.a,{container:!0,spacing:3,style:{height:"86vh"},children:[Object(a.jsx)(h.a,{item:!0,xs:"9",style:{height:"100%",maxHeight:"100%"},children:Object(a.jsx)(b.a,{style:{height:"100%",maxHeight:"100%"},children:Object(a.jsx)(ae,{draw:j,name:te})})}),Object(a.jsx)(h.a,{item:!0,xs:"3",style:{height:"100%",maxHeight:"100%"},children:Object(a.jsxs)(h.a,{container:!0,direction:"column",justify:"space-between",style:{height:"100%",maxHeight:"100%"},children:[Object(a.jsxs)(b.a,{className:e.paper,children:[Object(a.jsx)(x.a,{fontWeight:"fontWeightBold",fontSize:"subtitle2.fontSize",textAlign:"center",className:e.formControl,children:"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f"}),Object(a.jsxs)(m.a,{className:e.formControl,children:[Object(a.jsxs)(f.a,{displayEmpty:!0,value:l,onChange:function(e){u(e.target.value)},className:e.selectEmpty,inputProps:{"aria-label":"Without label"},children:[Object(a.jsx)(O.a,{value:null,disabled:!0,children:"\u0422\u0438\u043f \u0444\u0440\u0430\u043a\u0442\u0430\u043b\u0443"}),Object(a.jsx)(O.a,{value:xe,children:"\u0414\u0435\u0440\u0435\u0432\u043e \u041f\u0456\u0444\u0430\u0433\u043e\u0440\u0430"}),Object(a.jsx)(O.a,{value:me,children:"C\u043d\u0456\u0436\u0438\u043d\u043a\u0430 \u041a\u043e\u0445\u0430"})]}),Object(a.jsx)(g.a,{children:"\u0422\u0438\u043f \u0444\u0440\u0430\u043a\u0442\u0430\u043b\u0443"})]}),Object(a.jsxs)(m.a,{className:e.formControl,children:[Object(a.jsx)(v.a,{id:"input-slider",variant:"subtitle2",gutterBottom:!0,children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0456\u0442\u0435\u0440\u0430\u0446\u0456\u0439"}),Object(a.jsxs)(h.a,{container:!0,spacing:2,alignItems:"center",children:[Object(a.jsx)(h.a,{item:!0,xs:!0,children:Object(a.jsx)(y.a,{value:"number"===typeof r?r:0,marks:!0,min:1,max:10,step:1,onChange:function(e,t){i(t)},"aria-labelledby":"input-slider"})}),Object(a.jsx)(h.a,{item:!0,children:Object(a.jsx)(w.a,{className:e.input,value:r,margin:"dense",onChange:function(e){i(""===e.target.value?"":Number(e.target.value))},onBlur:function(){var e;i((e=r)<0?0:e>10?10:e)},inputProps:{step:1,min:1,max:10,type:"number","aria-labelledby":"input-slider"}})})]})]})]}),Object(a.jsx)(x.a,{children:Object(a.jsx)(C.a,{onClick:function(){ee.emit("".concat(te,":").concat(ne),{})},variant:"extended",color:"primary",children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})})]})})]})]})},Oe=[{path:"/",exact:!0,component:function(){return Object(a.jsx)("div",{children:"hello"})}},{path:"/fractals",exact:!0,component:function(){return Object(a.jsx)(fe,{})}}];n(96);var ge=function(){return Object(a.jsx)(u,{children:Object(a.jsx)(s.a,{basename:"/",children:Object(a.jsxs)(l.d,{children:[Oe.map((function(e){return Object(a.jsx)(l.b,{path:e.path,component:e.component,exact:e.exact})})),Object(a.jsx)(l.a,{to:{pathname:"/"}})]})})})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,156)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(ge,{})}),document.getElementById("root")),ve()}},[[97,1,2]]]);
//# sourceMappingURL=main.ed09e43b.chunk.js.map