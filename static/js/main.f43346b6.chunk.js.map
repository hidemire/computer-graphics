{"version":3,"sources":["context/app-context.js","components/nav-panel/nav-panel.js","templates/base/base.js","core/events.js","core/constants.js","common/canvas/canvas.js","helpers/canvas.js","components/fractals/tree-drawer.js","components/fractals/snowflake-drawer.js","components/fractals/fractals.js","helpers/image.js","hooks/use-debounce.js","components/color-model/slider.js","components/color-model/color-model.js","core/router.js","App.js","reportWebVitals.js","index.js"],"names":["CtxApp","children","drawerWidth","useStyles","makeStyles","theme","root","display","drawer","breakpoints","up","width","flexShrink","appBar","marginLeft","menuButton","marginRight","spacing","toolbar","alignItems","justifyContent","padding","mixins","drawerPaper","content","flexGrow","active","backgroundColor","palette","action","selected","tabs","name","items","path","icon","Assignment","HelpOutline","AcUnit","ColorLens","ThreeSixty","NavPanel","window","classes","useTheme","useState","mobileOpen","setMobileOpen","className","Divider","map","index","List","itemName","ListItem","button","component","NavLink","to","activeClassName","ListItemIcon","ListItemText","primary","length","container","undefined","document","body","aria-label","Hidden","smUp","implementation","Drawer","variant","anchor","direction","open","onClose","paper","ModalProps","keepMounted","xsDown","memo","BaseTemplate","eventEmitter","EventEmitter","Emitter","on","event","fn","once","off","emit","payload","Object","freeze","CANVAS","EVENTS","none","Canvas","props","x","y","radius","position","setPosition","parentRef","useRef","canvasRef","draw","pick","onOpenImageCallback","useCallback","a","canvas","current","ctx","getContext","save","setTransform","currentData","getImageData","height","compositeOperation","globalCompositeOperation","fillStyle","fillRect","link","createElement","image","toDataURL","replace","download","href","click","clearRect","putImageData","restore","useEffect","d","context","pickCb","resized","ratio","devicePixelRatio","clientWidth","clientHeight","style","scale","lineWidth","w","Math","floor","h","translate","onKeyHandler","e","keyCode","p","addEventListener","removeEventListener","ref","maxHeight","maxWidth","tabIndex","Point","this","drawLines","lines","i","p1","p0","moveTo","lineTo","stroke","ang90","PI","ang45","ang30","drawTree","iterations","size","angle","nIteration","nSize","nx","round","cos","ny","sin","push","treeDrawer","beginPath","closePath","drawSnowFlake","limit","dx","dy","unit","sqrt","atan2","pA","pB","pC","snowflakeDrawer","flexDirection","sticky","top","zIndex","marginBottom","formControl","formLabel","cursor","input","FRACTAL_TYPES","Fractals","setIterations","fractalType","setFractalType","Grid","Paper","elevation","justify","Button","color","LiveHelp","fontSize","item","xs","Box","fontWeight","textAlign","FormControl","Select","displayEmpty","value","onChange","target","selectEmpty","inputProps","MenuItem","disabled","FormHelperText","Typography","id","gutterBottom","Slider","marks","min","max","step","newValue","aria-labelledby","Input","margin","Number","onBlur","iter","type","Fab","onClick","rgb2hsl","R","r","G","g","B","b","delta","l","s","hue2rgb","q","t","hsl2Rgb","hk","readFileAsync","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","pixelData2RGBA","data","setRbgData","calculatePosition","selectedImage","wrh","newWidth","newHeight","xOffset","yOffset","useDebounce","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","CustomSliderRaw","backgroundImage","args","CS","withStyles","rail","borderRadius","opacity","valueLabel","visibility","left","background","track","thumb","mark","markLabel","transform","CustomSlider","normalize","val","fill","ColorModel","blueBright","setBlueBright","uploadButtonRef","setSelectedImage","hsl","setHsl","c","m","k","cmyk","setCmyk","debounceHls","debounceCmyk","onFileUpload","files","rf","img","Image","src","drawBaseImage","drawImage","drawUpdatedImage","imageData","hlsPoint","coef","pickDebounce","useDebouncedCallback","layerX","layerY","rgb","isNaN","rgb2cmyk","callback","valueLabelDisplay","mb","orientation","label","accept","hidden","exact","App","basename","routes","route","pathname","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f43346b6.chunk.js","sourcesContent":["import React from 'react';\n\nfunction CtxApp({ children }) {\n  return (\n    <>\n      {children}\n    </>\n  );\n}\n\nexport default CtxApp;\n","import React, { useState, memo } from 'react';\nimport {\n  Divider,\n  Drawer,\n  Hidden,\n  List,\n  ListItemText,\n  ListItemIcon,\n  ListItem,\n  makeStyles,\n  useTheme,\n} from '@material-ui/core';\nimport { NavLink } from 'react-router-dom';\n\nimport {\n  HelpOutline as HelpOutlineIcon,\n  Assignment as AssignmentIcon,\n  AcUnit as AcUnitIcon,\n  ThreeSixty as ThreeSixtyIcon,\n  ColorLens as ColorLensIcon,\n} from '@material-ui/icons';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  // necessary for content to be below app bar\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n  active: {\n    backgroundColor: theme.palette.action.selected,\n  },\n}));\n\nconst tabs = [\n  {\n    name: 'Інфо',\n    items: [\n      {\n        name: 'Вступ',\n        path: '/introduction',\n        icon: <AssignmentIcon />,\n      },\n      {\n        name: 'Фрактали',\n        path: '/fractals/help',\n        icon: <HelpOutlineIcon />,\n      },\n      {\n        name: 'Колірні моделі',\n        path: '/color-model/help',\n        icon: <HelpOutlineIcon />,\n      },\n      {\n        name: 'Рух',\n        path: '/movement/help',\n        icon: <HelpOutlineIcon />,\n      },\n    ],\n  },\n  {\n    name: 'Playgrounds',\n    items: [\n      {\n        name: 'Фрактали',\n        path: '/fractals',\n        icon: <AcUnitIcon />,\n      },\n      {\n        name: 'Колірні моделі',\n        path: '/color-model',\n        icon: <ColorLensIcon />,\n      },\n      {\n        name: 'Рух',\n        path: '/movement',\n        icon: <ThreeSixtyIcon />,\n      },\n    ],\n  },\n];\n\nfunction NavPanel({ window }) {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const [mobileOpen, setMobileOpen] = useState(false);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar} />\n      <Divider />\n      {tabs.map(({ name, items }, index) => (\n        <>\n          <List key={name}>\n            {items.map(({ name: itemName, icon, path }) => (\n              <ListItem\n                button\n                key={itemName}\n                component={NavLink}\n                to={path}\n                activeClassName={classes.active}\n              >\n                <ListItemIcon>{icon}</ListItemIcon>\n                <ListItemText primary={itemName} />\n              </ListItem>\n            ))}\n          </List>\n          { index + 1 !== tabs.length ? <Divider /> : null }\n        </>\n      ))}\n    </div>\n  );\n\n  const container = window !== undefined ? () => window().document.body : undefined;\n\n  return (\n    <div className={classes.root}>\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Hidden smUp implementation=\"css\">\n          <Drawer\n            container={container}\n            variant=\"temporary\"\n            anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true, // Better open performance on mobile.\n            }}\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n        <Hidden xsDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant=\"permanent\"\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n    </div>\n  );\n}\n\nexport default memo(NavPanel);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\n\nimport NavPanel from 'components/nav-panel/nav-panel';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\n\nfunction BaseTemplate({ children }) {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <NavPanel />\n      <main className={classes.content}>\n        {children}\n      </main>\n    </div>\n  );\n}\n\nexport default BaseTemplate;\n","import EventEmitter from 'eventemitter3';\n\nconst eventEmitter = new EventEmitter();\n\nconst Emitter = {\n  on: (event, fn) => eventEmitter.on(event, fn),\n  once: (event, fn) => eventEmitter.once(event, fn),\n  off: (event, fn) => eventEmitter.off(event, fn),\n  emit: (event, payload) => eventEmitter.emit(event, payload),\n};\n\nObject.freeze(Emitter);\n\nexport default Emitter;\n","const CANVAS = {\n  FRACTALS: 'canvas-fractals',\n  COLOR_MODEL: 'canvas-color-model',\n};\n\nconst EVENTS = {\n  SAVE_CANVAS_IMAGE: 'save-canvas-image',\n};\n\nexport { CANVAS, EVENTS };\n","import React, {\n  useState,\n  useRef,\n  useEffect,\n  useCallback,\n} from 'react';\n\nimport Emitter from 'core/events';\nimport { EVENTS } from 'core/constants';\n\nconst moveStep = 10;\nconst zoomStep = 0.7;\n\nconst none = () => {};\n\nfunction Canvas(props) {\n  const [position, setPosition] = useState({\n    x: 0,\n    y: 0,\n    radius: 1,\n  });\n  const parentRef = useRef(null);\n  const canvasRef = useRef(null);\n  const {\n    draw = none,\n    pick = none,\n    name,\n  } = props;\n\n  const onOpenImageCallback = useCallback(async () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n\n    ctx.save();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n\n    const currentData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    const compositeOperation = ctx.globalCompositeOperation;\n\n    ctx.globalCompositeOperation = 'destination-over';\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    // const blob = await new Promise((resolve) => canvas.toBlob(resolve));\n    // const url = URL.createObjectURL(blob);\n    // window.open(url, '_blank');\n\n    const link = document.createElement('a');\n    const image = canvas.toDataURL('image/png')\n      .replace('image/png', 'image/octet-stream');\n    link.download = `${name}.png`;\n    link.href = image;\n    link.click();\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.putImageData(currentData, 0, 0);\n    ctx.globalCompositeOperation = compositeOperation;\n    ctx.restore();\n  }, []);\n\n  useEffect(() => {\n    const event = `${name}:${EVENTS.SAVE_CANVAS_IMAGE}`;\n    Emitter.on(event, onOpenImageCallback);\n    return () => Emitter.off(event, onOpenImageCallback);\n  });\n\n  const d = useCallback(async () => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    context.save();\n    context.setTransform(1, 0, 0, 1, 0, 0);\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    context.restore();\n    context.fillStyle = 'white';\n\n    await draw({\n      canvas,\n      context,\n      position,\n    });\n  }, [draw]);\n\n  useEffect(d, [draw, d]);\n\n  const pickCb = useCallback(async (event) => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    await pick({ event, canvas, context });\n  }, [pick]);\n\n  const resized = () => {\n    const canvas = canvasRef.current;\n    const ratio = (window.devicePixelRatio || 1) / position.radius;\n\n    canvas.width = parentRef.current.clientWidth * ratio * position.radius;\n    canvas.height = parentRef.current.clientHeight * ratio * position.radius;\n\n    canvas.style.width = `${parentRef.current.clientWidth}px`;\n    canvas.style.height = `${parentRef.current.clientHeight}px`;\n\n    const ctx = canvas.getContext('2d');\n    ctx.scale(ratio, ratio);\n    ctx.lineWidth = 1 * position.radius;\n\n    const w = Math.floor(((parentRef.current.clientWidth + position.x) / 2));\n    const h = Math.floor(((parentRef.current.clientHeight + position.y) / 2));\n\n    ctx.translate(w, h);\n\n    d();\n  };\n\n  const onKeyHandler = (e) => {\n    if (e.keyCode === 38 || e.keyCode === 87 /* UP | w */) {\n      setPosition((p) => ({ ...p, y: position.y - moveStep * position.radius * 2 }));\n    } else if (e.keyCode === 40 || e.keyCode === 83 /* DOWN | s  */) {\n      setPosition((p) => ({ ...p, y: position.y + moveStep * position.radius * 2 }));\n    } else if (e.keyCode === 37 || e.keyCode === 65 /* LEFT | a  */) {\n      setPosition((p) => ({ ...p, x: position.x - moveStep * position.radius * 2 }));\n    } else if (e.keyCode === 39 || e.keyCode === 68 /* RIGHT | d  */) {\n      setPosition((p) => ({ ...p, x: position.x + moveStep * position.radius * 2 }));\n    } else if (e.keyCode === 189 || e.keyCode === 173 || e.keyCode === 109 /* - | _  */) {\n      setPosition((p) => ({ ...p, radius: position.radius / zoomStep }));\n    } else if (e.keyCode === 187 || e.keyCode === 61 || e.keyCode === 107 /* = | +  */) {\n      setPosition((p) => ({ ...p, radius: position.radius * zoomStep }));\n    }\n  };\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n\n    window.addEventListener('resize', resized);\n    canvas.addEventListener('keydown', onKeyHandler);\n    canvas.addEventListener('mousemove', pickCb);\n    return () => {\n      window.removeEventListener('resize', resized);\n      canvas.removeEventListener('keydown', onKeyHandler);\n      canvas.removeEventListener('mousemove', pickCb);\n    };\n  });\n\n  useEffect(() => {\n    resized();\n  }, [position]);\n\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  return (\n    <div\n      ref={parentRef}\n      style={{\n        height: '100%', maxHeight: '100%', maxWidth: '100%', width: '100%',\n      }}\n    >\n      <canvas tabIndex=\"0\" ref={canvasRef} style={{ height: '100%', width: '100%' }} />\n    </div>\n  );\n}\n\nexport default Canvas;\n","/* eslint-disable no-bitwise */\nfunction Point({ x, y }) {\n  this.x = x;\n  this.y = y;\n}\n\nfunction drawLine(ctx, a, b) {\n  ctx.moveTo(a.x, -a.y);\n  ctx.lineTo(b.x, -b.y);\n\n  ctx.stroke();\n}\n\nfunction drawLines(ctx, lines) {\n  for (let i = 0; i < lines.length; i += 1) {\n    const { p1, p0 } = lines[i];\n    ctx.moveTo(p1.x, -p1.y);\n    ctx.lineTo(p0.x, -p0.y);\n  }\n\n  ctx.stroke();\n}\n\nexport {\n  Point,\n  drawLine,\n  drawLines,\n};\n","import {\n  Point,\n  drawLines,\n} from 'helpers/canvas';\n\nconst ang90 = Math.PI / 2; // 90\nconst ang45 = Math.PI / 4; // 45\nconst ang30 = Math.PI / 6; // 30\n\nlet lines = [];\n\nfunction drawTree(ctx, x, y, iterations, size, angle) {\n  if (iterations > 0) {\n    const nIteration = iterations - 1;\n    const nSize = size * 0.7;\n    const nx = Math.round(x + size * Math.cos(angle));\n    const ny = Math.round(y + size * Math.sin(angle));\n\n    lines.push({ p1: new Point({ x, y }), p0: new Point({ x: nx, y: ny }) });\n\n    drawTree(ctx, nx, ny, nIteration, nSize, angle + ang45);\n    drawTree(ctx, nx, ny, nIteration, nSize, angle - ang30);\n  }\n}\n\nfunction treeDrawer(ctx, { iterations }) {\n  lines = [];\n\n  ctx.beginPath();\n  // ctx.arc(0, 0, iterations, 0, 2 * Math.PI);\n  // ctx.fill();\n\n  drawTree(ctx, 0, -200, iterations, 200, ang90);\n\n  drawLines(ctx, lines);\n\n  ctx.closePath();\n}\n\nexport default treeDrawer;\n","import {\n  Point,\n  drawLines,\n} from 'helpers/canvas';\n\nlet lines = [];\n\nfunction drawSnowFlake(ctx, p0, p1, limit) {\n  // setImmediate(() => {\n  const dx = p1.x - p0.x;\n  const dy = p1.y - p0.y;\n  const dist = Math.sqrt(dx * dx + dy * dy);\n  const unit = dist / 3;\n  const angle = Math.atan2(dy, dx); // угол поворота линии\n  const pA = new Point({ // координаты треугольника\n    x: p0.x + dx / 3,\n    y: p0.y + dy / 3,\n  });\n  const pB = new Point({ // вершина треугольника\n    x: pA.x + Math.cos(angle - Math.PI / 3) * unit,\n    y: pA.y + Math.sin(angle - Math.PI / 3) * unit,\n  });\n  const pC = new Point({\n    x: p1.x - dx / 3,\n    y: p1.y - dy / 3,\n  });\n\n  if (limit > 1) {\n    drawSnowFlake(ctx, p0, pA, limit - 1);\n    drawSnowFlake(ctx, pA, pB, limit - 1);\n    drawSnowFlake(ctx, pB, pC, limit - 1);\n    drawSnowFlake(ctx, pC, p1, limit - 1);\n  } else {\n    // tasks.push(() => setTimeout(() => drawLine(ctx, p0, p1), 0));\n    lines.push({ p0, p1 });\n    // drawQueue.add(() => lines.push({ p0, p1 }));\n  }\n  // });\n}\n\nfunction snowflakeDrawer(ctx, { iterations }) {\n  lines = [];\n\n  ctx.beginPath();\n  drawSnowFlake(ctx, new Point({ x: -180, y: 200 }), new Point({ x: 0, y: -180 }), iterations);\n  drawSnowFlake(ctx, new Point({ x: 0, y: -180 }), new Point({ x: 200, y: 200 }), iterations);\n  drawSnowFlake(ctx, new Point({ x: 200, y: 200 }), new Point({ x: -180, y: 200 }), iterations);\n\n  drawLines(ctx, lines);\n\n  ctx.closePath();\n}\n\nexport default snowflakeDrawer;\n","import React, { useState, useCallback } from 'react';\nimport {\n  Grid,\n  makeStyles,\n  Paper,\n  Button,\n  Typography,\n  Box,\n  FormControl,\n  Select,\n  MenuItem,\n  FormHelperText,\n  Input,\n  Slider,\n  Fab,\n} from '@material-ui/core';\nimport {\n  LiveHelp as LiveHelpIcon,\n} from '@material-ui/icons';\n\nimport BaseTemplate from 'templates/base/base';\nimport Canvas from 'common/canvas/canvas';\n\nimport Emitter from 'core/events';\nimport { CANVAS, EVENTS } from 'core/constants';\n\nimport treeDrawer from './tree-drawer';\nimport snowflakeDrawer from './snowflake-drawer';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  sticky: {\n    position: 'sticky',\n    top: theme.spacing(20),\n    zIndex: theme.zIndex.appBar,\n  },\n  paper: {\n    padding: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n  },\n  formControl: {\n    marginBottom: theme.spacing(3),\n    width: '100%',\n  },\n  formLabel: {\n    cursor: 'pointer',\n  },\n  input: {\n    width: 42,\n  },\n}));\n\nconst maxIterationsCount = 10;\n\nconst FRACTAL_TYPES = {\n  TREE: 'tree',\n  SNOWFLAKE: 'snowflake',\n};\n\nfunction Fractals() {\n  const classes = useStyles();\n  const [iterations, setIterations] = useState(1);\n  const [fractalType, setFractalType] = useState(null);\n\n  const handleSliderChange = (event, newValue) => {\n    setIterations(newValue);\n  };\n\n  const normalizeIterations = (iter) => {\n    if (iter < 0) {\n      return 0;\n    }\n    if (iter > maxIterationsCount) {\n      return maxIterationsCount;\n    }\n    return iter;\n  };\n\n  const handleInputChange = (event) => {\n    setIterations(event.target.value === '' ? '' : (Number(event.target.value)));\n  };\n\n  const handleBlur = () => {\n    setIterations(normalizeIterations(iterations));\n  };\n\n  const draw = useCallback(({ context }) => {\n    if (fractalType === FRACTAL_TYPES.TREE) return treeDrawer(context, { iterations });\n    if (fractalType === FRACTAL_TYPES.SNOWFLAKE) return snowflakeDrawer(context, { iterations });\n    return () => {};\n  }, [iterations, fractalType]);\n\n  const onFractalTypeChange = (event) => {\n    setFractalType(event.target.value);\n  };\n\n  const onSaveButtonClick = () => {\n    Emitter.emit(`${CANVAS.FRACTALS}:${EVENTS.SAVE_CANVAS_IMAGE}`, {});\n  };\n\n  return (\n    <BaseTemplate>\n      <Grid\n        container\n        component={Paper}\n        className={classes.paper}\n        elevation={3}\n        justify=\"space-between\"\n        alignItems=\"center\"\n      >\n        <Button color=\"primary\" variant=\"contained\">Фрактали</Button>\n        <LiveHelpIcon fontSize=\"large\" />\n      </Grid>\n      <Grid container spacing={3} style={{ height: '86vh' }}>\n        <Grid item xs=\"9\" style={{ height: '100%', maxHeight: '100%' }}>\n          <Paper style={{ height: '100%', maxHeight: '100%' }}>\n            <Canvas draw={draw} name={CANVAS.FRACTALS} />\n          </Paper>\n        </Grid>\n        <Grid item xs=\"3\" style={{ height: '100%', maxHeight: '100%' }}>\n          <Grid container direction=\"column\" justify=\"space-between\" style={{ height: '100%', maxHeight: '100%' }}>\n            <Paper className={classes.paper}>\n              <Box\n                fontWeight=\"fontWeightBold\"\n                fontSize=\"subtitle2.fontSize\"\n                textAlign=\"center\"\n                className={classes.formControl}\n              >\n                Налаштування\n              </Box>\n              <FormControl className={classes.formControl}>\n                <Select\n                  displayEmpty\n                  value={fractalType}\n                  onChange={onFractalTypeChange}\n                  className={classes.selectEmpty}\n                  inputProps={{ 'aria-label': 'Without label' }}\n                >\n                  <MenuItem value={null} disabled>\n                    Тип фракталу\n                  </MenuItem>\n                  <MenuItem value={FRACTAL_TYPES.TREE}>Дерево Піфагора</MenuItem>\n                  <MenuItem value={FRACTAL_TYPES.SNOWFLAKE}>Cніжинка Коха</MenuItem>\n                </Select>\n                <FormHelperText>Тип фракталу</FormHelperText>\n              </FormControl>\n              <FormControl className={classes.formControl}>\n                <Typography id=\"input-slider\" variant=\"subtitle2\" gutterBottom>\n                  Кількість ітерацій\n                </Typography>\n                <Grid container spacing={2} alignItems=\"center\">\n                  <Grid item xs>\n                    <Slider\n                      value={typeof iterations === 'number' ? iterations : 0}\n                      marks\n                      min={1}\n                      max={maxIterationsCount}\n                      step={1}\n                      onChange={handleSliderChange}\n                      aria-labelledby=\"input-slider\"\n                    />\n                  </Grid>\n                  <Grid item>\n                    <Input\n                      className={classes.input}\n                      value={iterations}\n                      margin=\"dense\"\n                      onChange={handleInputChange}\n                      onBlur={handleBlur}\n                      inputProps={{\n                        step: 1,\n                        min: 1,\n                        max: maxIterationsCount,\n                        type: 'number',\n                        'aria-labelledby': 'input-slider',\n                      }}\n                    />\n                  </Grid>\n                </Grid>\n              </FormControl>\n            </Paper>\n            <Box>\n              <Fab onClick={onSaveButtonClick} variant=\"extended\" color=\"primary\">\n                Зберегти\n              </Fab>\n            </Box>\n          </Grid>\n        </Grid>\n      </Grid>\n    </BaseTemplate>\n  );\n}\n\nexport default Fractals;\n","/* eslint-disable no-param-reassign */\nfunction rgb2cmyk({ r, g, b }) {\n  let c = 1 - (r / 255);\n  let m = 1 - (g / 255);\n  let y = 1 - (b / 255);\n  let k = Math.min(c, Math.min(m, y));\n\n  c = (c - k) / (1 - k);\n  m = (m - k) / (1 - k);\n  y = (y - k) / (1 - k);\n\n  c = Number.isNaN(c) ? 0 : c;\n  m = Number.isNaN(m) ? 0 : m;\n  y = Number.isNaN(y) ? 0 : y;\n  k = Number.isNaN(k) ? 0 : k;\n\n  return {\n    c,\n    m,\n    y,\n    k,\n  };\n}\n\nfunction rgb2hsl({ r, g, b }) {\n  const R = r / 255;\n  const G = g / 255;\n  const B = b / 255;\n\n  const max = Math.max(R, G, B);\n  const min = Math.min(R, G, B);\n  const delta = max - min;\n\n  const l = (max + min) / 2;\n  let h = l;\n  let s = l;\n\n  if (!delta) {\n    h = 0;\n    s = 0;\n  } else {\n    s = l > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n\n    // eslint-disable-next-line default-case\n    switch (max) {\n      case R: h = 60 * ((G - B) / delta) + (G < B ? 360 : 0); break;\n      case G: h = 60 * ((B - R) / delta) + 120; break;\n      case B: h = 60 * ((R - G) / delta) + 240; break;\n    }\n  }\n\n  return { h, s, l };\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nfunction hsl2Rgb({ h, s, l }) {\n  let r;\n  let g;\n  let b;\n\n  const hk = h / 360;\n\n  if (s === 0) {\n    r = l;\n    g = l;\n    b = l;\n  } else {\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n\n    r = hue2rgb(p, q, hk + 1 / 3);\n    g = hue2rgb(p, q, hk);\n    b = hue2rgb(p, q, hk - 1 / 3);\n  }\n\n  return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\nfunction readFileAsync(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      resolve(reader.result);\n    };\n\n    reader.onerror = reject;\n\n    reader.readAsDataURL(file);\n  });\n}\n\nfunction pixelData2RGBA(data, i) {\n  return {\n    r: data[i],\n    g: data[i + 1],\n    b: data[i + 2],\n    a: data[i + 3],\n  };\n}\n\nfunction setRbgData(data, i, { r, g, b }) {\n  data[i] = r;\n  data[i + 1] = g;\n  data[i + 2] = b;\n}\n\nfunction calculatePosition({ canvas, selectedImage }) {\n  const wrh = selectedImage.width / selectedImage.height;\n  let newWidth = canvas.width;\n  let newHeight = newWidth / wrh;\n  if (newHeight > canvas.height) {\n    newHeight = canvas.height;\n    newWidth = newHeight * wrh;\n  }\n  const xOffset = newWidth < canvas.width ? ((canvas.width - newWidth) / 2) : 0;\n  const yOffset = newHeight < canvas.height ? ((canvas.height - newHeight) / 2) : 0;\n\n  return {\n    xOffset,\n    yOffset,\n    newWidth,\n    newHeight,\n  };\n}\n\nexport {\n  rgb2cmyk,\n  rgb2hsl,\n  hsl2Rgb,\n  setRbgData,\n  readFileAsync,\n  pixelData2RGBA,\n  calculatePosition,\n};\n","import { useState, useEffect } from 'react';\n\nexport default function useDebounce(value, delay) {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(\n    () => {\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n\n    [value],\n  );\n\n  return debouncedValue;\n}\n","import React, { memo } from 'react';\nimport { Slider, withStyles } from '@material-ui/core';\n\nfunction CustomSliderRaw({ backgroundImage, ...args }) {\n  const CS = withStyles({\n    rail: {\n      backgroundImage,\n      borderRadius: '10px 10px 10px 10px',\n      width: '10px !important',\n      opacity: 1,\n    },\n    valueLabel: {\n      visibility: 'visible',\n      left: 'calc(-50% - 20px)',\n      fontSize: 10,\n      top: 0,\n      '& *': {\n        background: 'transparent',\n        color: '#000',\n      },\n    },\n    root: {\n      width: '15px !important',\n      marginRight: '0px !important',\n    },\n    track: {\n    // display: 'none !important',\n    },\n    thumb: {\n      visibility: 'hidden',\n    },\n    mark: {\n      visibility: 'hidden',\n    },\n    markLabel: {\n      top: '10px !important',\n      transform: 'translateY(100%) !important',\n      fontSize: 10,\n    },\n  })(Slider);\n\n  return (\n    <CS {...args} />\n  );\n}\n\nconst CustomSlider = memo(CustomSliderRaw);\n\nexport default CustomSlider;\n","import React, {\n  useCallback,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  Box,\n  Button,\n  Fab,\n  FormControl,\n  Grid,\n  makeStyles,\n  Paper,\n  Slider,\n  Typography,\n} from '@material-ui/core';\nimport {\n  LiveHelp as LiveHelpIcon,\n} from '@material-ui/icons';\n\nimport { useDebouncedCallback } from 'use-debounce';\n\nimport BaseTemplate from 'templates/base/base';\nimport Canvas from 'common/canvas/canvas';\nimport {\n  pixelData2RGBA,\n  rgb2cmyk,\n  rgb2hsl,\n  calculatePosition,\n  readFileAsync,\n  hsl2Rgb,\n  setRbgData,\n} from 'helpers/image';\n\nimport useDebounce from 'hooks/use-debounce';\nimport Emitter from 'core/events';\nimport { CANVAS, EVENTS } from 'core/constants';\n\nimport CustomSlider from './slider';\n\nconst normalize = (val) => Math.floor(val);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  sticky: {\n    position: 'sticky',\n    top: theme.spacing(20),\n    zIndex: theme.zIndex.appBar,\n  },\n  paper: {\n    padding: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n  },\n  formControl: {\n    marginBottom: theme.spacing(3),\n    width: '100%',\n  },\n  formLabel: {\n    cursor: 'pointer',\n  },\n  input: {\n    width: 42,\n  },\n  fill: {\n    height: '100%',\n    maxHeight: '100%',\n    width: '100%',\n    maxWidth: '100%',\n  },\n}));\n\nfunction ColorModel() {\n  const classes = useStyles();\n  const [blueBright, setBlueBright] = useState(0);\n  const uploadButtonRef = useRef(null);\n  const [selectedImage, setSelectedImage] = useState(null);\n\n  const [hsl, setHsl] = useState({ h: 0, s: 0, l: 0 });\n  const [cmyk, setCmyk] = useState({\n    c: 0,\n    m: 0,\n    y: 0,\n    k: 0,\n  });\n\n  const debounceHls = useDebounce(hsl, 5);\n  const debounceCmyk = useDebounce(cmyk, 5);\n\n  const handleSliderChange = (event, newValue) => {\n    setBlueBright(newValue);\n  };\n\n  const onSaveButtonClick = () => {\n    Emitter.emit(`${CANVAS.COLOR_MODEL}:${EVENTS.SAVE_CANVAS_IMAGE}`, {});\n  };\n\n  const onUploadButtonClick = () => {\n    uploadButtonRef.current.click();\n  };\n\n  const onFileUpload = async (event) => {\n    const [file] = event.target.files;\n    const rf = await readFileAsync(file);\n    const img = new Image();\n    img.onload = () => {\n      setSelectedImage(img);\n    };\n    img.src = rf;\n  };\n\n  const drawBaseImage = useCallback(({ context, canvas }) => {\n    if (!selectedImage) return;\n\n    context.setTransform(1, 0, 0, 1, 0, 0);\n\n    const {\n      newHeight,\n      newWidth,\n      xOffset,\n      yOffset,\n    } = calculatePosition({ canvas, selectedImage });\n\n    context.drawImage(selectedImage, xOffset, yOffset, newWidth, newHeight);\n  }, [selectedImage]);\n\n  const drawUpdatedImage = useCallback(({ context, canvas }) => {\n    if (!selectedImage) return;\n\n    context.setTransform(1, 0, 0, 1, 0, 0);\n\n    const {\n      newHeight,\n      newWidth,\n      xOffset,\n      yOffset,\n    } = calculatePosition({ canvas, selectedImage });\n\n    context.drawImage(selectedImage, xOffset, yOffset, newWidth, newHeight);\n    const imageData = context.getImageData(xOffset, yOffset, newWidth, newHeight);\n\n    const { data } = imageData;\n\n    const range = 50;\n\n    for (let i = 0; i < data.length; i += 4) {\n      const hlsPoint = rgb2hsl(pixelData2RGBA(data, i));\n\n      if (hlsPoint.h > 240 - range && hlsPoint.h < 240 + range) {\n        const coef = (blueBright / 100) + 1;\n\n        hlsPoint.l *= coef;\n\n        if (hlsPoint.l > 1) hlsPoint.l = 1;\n\n        const rgbPoint = hsl2Rgb(hlsPoint);\n\n        setRbgData(data, i, rgbPoint);\n      }\n\n      // data[i + 2] = data[i + 2] * coef; // blue\n\n      // if (data[i + 2] > 255) data[i + 2] = 255;\n    }\n\n    context.putImageData(imageData, xOffset, yOffset, 0, 0, newWidth, newHeight);\n  }, [blueBright, selectedImage]);\n\n  const pickDebounce = useDebouncedCallback(({ context, event }) => {\n    const { layerX, layerY } = event;\n    const pixel = context.getImageData(layerX, layerY, 1, 1);\n    const rgb = pixelData2RGBA(pixel.data, 0);\n    setCmyk(rgb2cmyk(rgb));\n    setHsl(rgb2hsl(rgb));\n  }, 50);\n\n  return (\n    <BaseTemplate>\n      <Grid\n        container\n        component={Paper}\n        className={classes.paper}\n        elevation={3}\n        justify=\"space-between\"\n        alignItems=\"center\"\n      >\n        <Button color=\"primary\" variant=\"contained\">Колірні моделі</Button>\n        <LiveHelpIcon fontSize=\"large\" />\n      </Grid>\n      <Grid container spacing={3} style={{ height: '86vh' }}>\n        <Grid item xs=\"8\" style={{ height: '100%', maxHeight: '100%' }}>\n          <Paper style={{ height: '100%', maxHeight: '100%' }}>\n            <Grid container direction=\"row\" spacing={3} justify=\"space-between\" style={{ height: '100%', maxHeight: '100%' }}>\n              <Grid item xs={6} style={{ height: '100%', maxHeight: '100%' }}>\n                <Canvas draw={drawBaseImage} pick={pickDebounce.callback} name=\"img\" />\n              </Grid>\n              <Grid item xs={6} style={{ height: '100%', maxHeight: '100%' }}>\n                <Canvas\n                  draw={drawUpdatedImage}\n                  pick={pickDebounce.callback}\n                  name={CANVAS.COLOR_MODEL}\n                />\n              </Grid>\n            </Grid>\n          </Paper>\n        </Grid>\n        <Grid item xs=\"4\" style={{ height: '100%', maxHeight: '100%' }}>\n          <Grid container direction=\"column\" justify=\"space-between\" style={{ height: '100%', maxHeight: '100%' }}>\n            <Box>\n              <Paper className={classes.paper}>\n                <Box\n                  fontWeight=\"fontWeightBold\"\n                  fontSize=\"subtitle2.fontSize\"\n                  textAlign=\"center\"\n                  className={classes.formControl}\n                >\n                  Налаштування\n                </Box>\n                <FormControl className={classes.formControl}>\n                  <Typography id=\"input-slider\" variant=\"subtitle2\" gutterBottom>\n                    Яскравість синього\n                  </Typography>\n                  <Slider\n                    value={blueBright}\n                    min={-100}\n                    max={100}\n                    step={1}\n                    onChange={handleSliderChange}\n                    aria-labelledby=\"discrete-slider\"\n                    valueLabelDisplay=\"auto\"\n                  />\n                </FormControl>\n              </Paper>\n              <Paper className={classes.paper}>\n                <FormControl className={classes.formControl}>\n                  <Grid container direction=\"row\" spacing={1} justify=\"space-around\">\n                    <Grid item>\n                      <Grid container direction=\"column\" alignItems=\"center\">\n                        <Box mb={1}>\n                          <Typography id=\"input-slider\" variant=\"subtitle2\" gutterBottom>\n                            HSL\n                          </Typography>\n                        </Box>\n                        <Grid container>\n                          <CustomSlider\n                            style={{ height: '200px' }}\n                            orientation=\"vertical\"\n                            aria-labelledby=\"vertical-slider\"\n                            valueLabelDisplay=\"on\"\n                            backgroundImage=\"linear-gradient(0deg, hsla(0, 100%, 50%, 1),hsla(10, 100%, 50%, 1),hsla(20, 100%, 50%, 1),hsla(30, 100%, 50%, 1),hsla(40, 100%, 50%, 1),hsla(50, 100%, 50%, 1),hsla(60, 100%, 50%, 1),hsla(70, 100%, 50%, 1),hsla(80, 100%, 50%, 1),hsla(90, 100%, 50%, 1),hsla(100, 100%, 50%, 1),hsla(110, 100%, 50%, 1),hsla(120, 100%, 50%, 1),hsla(130, 100%, 50%, 1),hsla(140, 100%, 50%, 1),hsla(150, 100%, 50%, 1),hsla(160, 100%, 50%, 1),hsla(170, 100%, 50%, 1),hsla(180, 100%, 50%, 1),hsla(190, 100%, 50%, 1),hsla(200, 100%, 50%, 1),hsla(210, 100%, 50%, 1),hsla(220, 100%, 50%, 1),hsla(230, 100%, 50%, 1),hsla(240, 100%, 50%, 1),hsla(250, 100%, 50%, 1),hsla(260, 100%, 50%, 1),hsla(270, 100%, 50%, 1),hsla(280, 100%, 50%, 1),hsla(290, 100%, 50%, 1),hsla(300, 100%, 50%, 1),hsla(310, 100%, 50%, 1),hsla(320, 100%, 50%, 1),hsla(330, 100%, 50%, 1),hsla(340, 100%, 50%, 1),hsla(350, 100%, 50%, 1),hsla(360, 100%, 50%, 1))\"\n                            value={normalize(debounceHls.h)}\n                            min={0}\n                            max={360}\n                            marks={[\n                              { value: 0, label: '0°' },\n                              { value: 360, label: '360°' },\n                            ]}\n                          />\n                          <CustomSlider\n                            style={{ height: '200px' }}\n                            orientation=\"vertical\"\n                            aria-labelledby=\"vertical-slider\"\n                            valueLabelDisplay=\"on\"\n                            backgroundImage=\"linear-gradient(0deg, hsla(0, 0%, 50%, 1),hsla(0, 20%, 50%, 1),hsla(0, 40%, 50%, 1),hsla(0, 60%, 50%, 1),hsla(0, 80%, 50%, 1),hsla(0, 100%, 50%, 1))\"\n                            value={normalize(debounceHls.s * 100)}\n                            min={0}\n                            max={100}\n                            marks={[\n                              { value: 0, label: '0%' },\n                              { value: 100, label: '100%' },\n                            ]}\n                          />\n                          <CustomSlider\n                            style={{ height: '200px' }}\n                            orientation=\"vertical\"\n                            aria-labelledby=\"vertical-slider\"\n                            valueLabelDisplay=\"on\"\n                            backgroundImage=\"linear-gradient(0deg, hsla(0, 100%, 0%, 1),hsla(0, 100%, 20%, 1),hsla(0, 100%, 40%, 1),hsla(0, 100%, 60%, 1),hsla(0, 100%, 80%, 1),hsla(0, 100%, 100%, 1))\"\n                            value={normalize(debounceHls.l * 100)}\n                            min={0}\n                            max={100}\n                            marks={[\n                              { value: 0, label: '0%' },\n                              { value: 100, label: '100%' },\n                            ]}\n                          />\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                    <Grid item>\n                      <Grid container direction=\"column\" alignItems=\"center\">\n                        <Box mb={1}>\n                          <Typography id=\"input-slider\" variant=\"subtitle2\" gutterBottom>\n                            CMYK\n                          </Typography>\n                        </Box>\n                        <Grid container>\n                          <CustomSlider\n                            style={{ height: '200px' }}\n                            orientation=\"vertical\"\n                            aria-labelledby=\"vertical-slider\"\n                            valueLabelDisplay=\"on\"\n                            backgroundImage=\"linear-gradient(.25turn, #00FFFF, #00FFFF)\"\n                            value={normalize(debounceCmyk.c * 100)}\n                            min={0}\n                            max={100}\n                            marks={[\n                              { value: 0, label: '0%' },\n                              { value: 100, label: '100%' },\n                            ]}\n                          />\n                          <CustomSlider\n                            style={{ height: '200px' }}\n                            orientation=\"vertical\"\n                            aria-labelledby=\"vertical-slider\"\n                            valueLabelDisplay=\"on\"\n                            backgroundImage=\"linear-gradient(.25turn, #FF00FF, #FF00FF)\"\n                            value={normalize(debounceCmyk.m * 100)}\n                            min={0}\n                            max={100}\n                            marks={[\n                              { value: 0, label: '0%' },\n                              { value: 100, label: '100%' },\n                            ]}\n                          />\n                          <CustomSlider\n                            style={{ height: '200px' }}\n                            orientation=\"vertical\"\n                            aria-labelledby=\"vertical-slider\"\n                            valueLabelDisplay=\"on\"\n                            backgroundImage=\"linear-gradient(.25turn, #FFFF00, #FFFF00)\"\n                            value={normalize(debounceCmyk.y * 100)}\n                            min={0}\n                            max={100}\n                            marks={[\n                              { value: 0, label: '0%' },\n                              { value: 100, label: '100%' },\n                            ]}\n                          />\n                          <CustomSlider\n                            style={{ height: '200px' }}\n                            orientation=\"vertical\"\n                            aria-labelledby=\"vertical-slider\"\n                            valueLabelDisplay=\"on\"\n                            backgroundImage=\"linear-gradient(.99turn, #000, #000)\"\n                            value={normalize(debounceCmyk.k * 100)}\n                            min={0}\n                            max={100}\n                            marks={[\n                              { value: 0, label: '0%' },\n                              { value: 100, label: '100%' },\n                            ]}\n                          />\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                </FormControl>\n              </Paper>\n            </Box>\n            <Box>\n              <Grid container justify=\"space-between\">\n                <input\n                  ref={uploadButtonRef}\n                  onChange={onFileUpload}\n                  type=\"file\"\n                  accept=\"image/*\"\n                  hidden\n                />\n                <Fab onClick={onUploadButtonClick} variant=\"extended\" color=\"primary\">\n                  Завантажити\n                </Fab>\n                <Fab onClick={onSaveButtonClick} variant=\"extended\" color=\"primary\">\n                  Зберегти\n                </Fab>\n              </Grid>\n            </Box>\n          </Grid>\n        </Grid>\n      </Grid>\n    </BaseTemplate>\n  );\n}\n\nexport default ColorModel;\n","import React from 'react';\n\nimport Fractals from 'components/fractals/fractals';\nimport ColorModel from 'components/color-model/color-model';\n\nexport default [\n  {\n    path: '/',\n    exact: true,\n    component: () => <div>hello</div>,\n  },\n  {\n    path: '/fractals',\n    exact: true,\n    component: () => <Fractals />,\n  },\n  {\n    path: '/color-model',\n    exact: true,\n    component: () => <ColorModel />,\n  },\n];\n","import React from 'react';\nimport {\n  HashRouter,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\n\nimport CtxApp from 'context/app-context';\nimport routes from 'core/router';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <CtxApp>\n      <HashRouter basename=\"/\">\n        <Switch>\n          {routes.map((route) => (\n            <Route path={route.path} component={route.component} exact={route.exact} />\n          ))}\n          <Redirect to={{ pathname: '/' }} />\n        </Switch>\n      </HashRouter>\n    </CtxApp>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS,\n      getFID,\n      getFCP,\n      getLCP,\n      getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}